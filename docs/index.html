<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>ì„±ê³µì ì˜¤ë””ì˜¤</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="manifest" href="./manifest.json">
</head>
<body>
<h1>ğŸ“ˆ ì˜¤ëŠ˜ì˜ ì„±ê³µì ì˜¤ë””ì˜¤</h1>
<div>
    <input name="title" placeholder="ì œëª©"></input>
    <input name="desc" placeholder="ë‚´ìš©"></input>
    <input name="file" placeholder="íŒŒì¼"></input>
    <buttion id="regist" onclick="regist()">ë“±ë¡í•˜ê¸°</buttion>
</div>
<div id="list"></div>
<script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('./service-worker.js');
    }
    const ADMIN_TOKEN = 'ba10cc7b9ba5b27317d546824a01203d89c0ea3e0972fab50cb786ab5a702dff';

    function regist(){
        let data = {
            title : document.getElementsByName("title")[0].value,
            desc : document.getElementsByName("desc")[0].value,
            regDate : new Date().toLocaleString()
        }

        fetch('https://todayaudio.writer1370.workers.dev/api/upload', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${ADMIN_TOKEN}`
          },
          body: JSON.stringify(data)
        });
    }
</script>
<script src="app.js"></script>
</body>
</html>
